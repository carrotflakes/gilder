# Gilder

Gilder is a Rust library for golden testing.

Golden tests are a commonly used approach in software testing where the expected output of a test is stored as a reference (golden file) and then compared against the actual output of the test run. In short, it allows you to ensure that the output of your function remains unchanged without the need to write explicit expectations.

Gilder is designed to minimize the implementation cost, and the only API you will use is the `assert_golden!` macro.

# Getting Started

1. Add Gilder as a dependency in your Cargo.toml file:

``` toml
[dev-dependencies]
gilder = "0.1"
```

2. Write a new golden test using the Gilder API:

``` rust
#[test]
fn my_test() {
    use gilder::assert_golden;

    let target = something_you_want_to_test();
    assert_golden!(target);
}
```

`assert_golden!` macro is similarly to `assert_eq!`, but it accepts only one argument. The argument must implement the `ToString` trait.

3. Create golden files:

Golden files are generated by running the tests for the first time.

``` shell
cargo test
```

A golden file with the `.gld` extension will be saved in the same directory as the source file containing the test code.

4. Testing:

When running the tests with the golden files present, the behavior is similar to that of a regular test. The actual output of the test is compared against the stored golden files, and if they match, the test is considered to pass.

``` shell
cargo test
```

5. Updating the golden files:

When you change the output of your function, it is necessary to update the golden files accordingly.

To update the golden files, delete the existing ones and rerun the tests.

## Copyright

Copyright (c) 2023 carrotflakes (carrotflakes@gmail.com)

## License

Licensed under either of

 * Apache License, Version 2.0, ([LICENSE-APACHE](LICENSE-APACHE) or http://www.apache.org/licenses/LICENSE-2.0)
 * MIT license ([LICENSE-MIT](LICENSE-MIT) or http://opensource.org/licenses/MIT)

at your option.
